<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Mike Potanin (potanin@mccme.ru)">
<META NAME="Subject" CONTENT="Реализация рефала на haskell - структуры днных">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Реализация рефала на haskell - структуры днных</H1>
<HR>
<P>
<!-- received="Mon Aug 27 13:34:45 2001" -->
<!-- isoreceived="20010827093445" -->
<!-- sent="Mon, 20 Aug 2001 19:52:54 +0400 (MSD)" -->
<!-- isosent="20010820155254" -->
<!-- name="Mike Potanin" -->
<!-- email="potanin@mccme.ru" -->
<!-- subject="Реализация рефала на haskell - структуры днных" -->
<!-- id="Pine.LNX.4.21.0108201912280.15482-100000@mccme.ru" -->
<!-- charset="koi8-r" -->
<STRONG>Subject: </STRONG>Реализация рефала на haskell - структуры днных<BR>
<STRONG>From: </STRONG>Mike Potanin (<EM>potanin@mccme.ru</EM>)<BR>
<STRONG>Date: </STRONG>Mon Aug 20 2001 - 19:52:54 MSD
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#226">[ date ]</A>
<A HREF="index.html#226">[ thread ]</A>
<A HREF="subject.html#226">[ subject ]</A>
<A HREF="author.html#226">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0227.html">Mike Potanin: "Лямбда-исчисление в рефале"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0225.html">Sergei M. Abramov: "Re: О типизации рефальских выражений"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Я начал реализовывать интерпретатор рефала на haskell. Моя цель не только
<BR>
изучить оба языка :-), но и проверить что получится, если сделать рефал
<BR>
ленивым. Рефал поддерживает структуру данных, к которой можно подступится
<BR>
с 2 сторон, в то время как к списку только с одной. Я пока реализовал
<BR>
рефаловские структуры через список. В результате 
<BR>
Test1 {
<BR>
&nbsp;s.a e.b = e.b;
<BR>
}
<BR>
Test2 {
<BR>
&nbsp;= 'a' &lt;Test3&gt;;
<BR>
}
<BR>
выполняется лениво, а
<BR>
Test1 {
<BR>
&nbsp;e.b s.a = e.b;
<BR>
}
<BR>
Test2 {   
<BR>
&nbsp;= &lt;Test3&gt; 'a'&gt;;
<BR>
}
<BR>
лениво выполнится не может.
<BR>
Есть еще одна проблема, с ленивостью не связаная.
<BR>
В рефале требуются ссылки на подструктуры и возможносто конкацинации этих
<BR>
ссылок. Сейчас я каждый раз копирую часть списка, что не очень эффективно.
<BR>
Впрчем тестов на призводительность я не проводил, может ленивость haskellа
<BR>
эту неэфективносто компенсирует.
<BR>
<P>В связи с вышесказаным у меня возник вопрос, как можно реализовать
<BR>
рефаловские структуры данных, что бы этих проблем не возникало?
<BR>
Списки можно реализовать не выходя за рамки лямбда-исчисления
<BR>
cons a b = \f-&gt;(f a b)
<BR>
head l = l (\a -&gt; (\b -&gt; a))
<BR>
tail l = l (\a -&gt; (\b -&gt; b))
<BR>
Есть ли столь же элегантная запись рефаловских структур?
<BR>
<P><P>P.S.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Где-нибудь есть формально описаная граматика рефала? Я в формальных
<BR>
граматиках не силен и сочинять ее самому мне не хочется.
<BR>
<P>P.S.S.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Здесь многие хорошо знают и рафал и haskell. Может у кого-нибудь
<BR>
найдется временя посмотреть эту программу
<BR>
(<A HREF="http://pm.kmost.express.ru/~pm/hrefal.tgz">http://pm.kmost.express.ru/~pm/hrefal.tgz</A>).
<BR>
Ее конечно надо переписать &quot;с нуля&quot;, но я еще не понял как правильно
<BR>
писать на haskell с точки зрения стиля. Буду благодарен любым замечаниям.
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0227.html">Mike Potanin: "Лямбда-исчисление в рефале"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0225.html">Sergei M. Abramov: "Re: О типизации рефальских выражений"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Oct 25 2004 - 21:24:59 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
