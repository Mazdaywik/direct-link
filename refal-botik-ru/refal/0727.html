<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Leonid Belous (belous@ilt.kharkov.ua)">
<META NAME="Subject" CONTENT="Re: Рефал &amp; publicit">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Рефал &amp; publicit</H1>
<HR>
<P>
<!-- received="Mon Jan 23 12:51:03 2006" -->
<!-- isoreceived="20060123095103" -->
<!-- sent="Mon, 23 Jan 2006 11:44:04 +0200" -->
<!-- isosent="20060123094404" -->
<!-- name="Leonid Belous" -->
<!-- email="belous@ilt.kharkov.ua" -->
<!-- subject="Re: Рефал &amp; publicit" -->
<!-- id="009e01c62001$9e527ce0$914c7cc1@copernik" -->
<!-- charset="koi8-r" -->
<!-- inreplyto="1117711745.3332.23.camel@s216.math.msu.su" -->
<STRONG>Subject: </STRONG>Re: Рефал & publicit<BR>
<STRONG>From: </STRONG>Leonid Belous (<EM>belous@ilt.kharkov.ua</EM>)<BR>
<STRONG>Date: </STRONG>Mon Jan 23 2006 - 12:44:04 MSK
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#727">[ date ]</A>
<A HREF="index.html#727">[ thread ]</A>
<A HREF="subject.html#727">[ subject ]</A>
<A HREF="author.html#727">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0726.html">Leonid Belous: "Happy New Year!"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0702.html">A.A.Vladimirov: "Re: Рефал &amp; publicity"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0710.html">Sergei M. Abramov: "Re: Рефал &amp; publicit"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0702.html">Leonid Belous: "Re: Рефал &amp; publicit"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Здравствуйте, Антон,
<BR>
<P>----- Исходное сообщение -----
<BR>
От: &quot;A.A.Vladimirov&quot; &lt;vladimi@mech.math.msu.su&gt;
<BR>
<P><EM>&gt; Глубокоуважаемый Леонид Белоус, ещё раз обращаю Ваше внимание на тот
</EM><BR>
<EM>&gt; факт, что выложенная Вами реализация Рефала-2
</EM><BR>
<EM>&gt; (refal2-0.2.3-20050529-unix-src.tgz) после компиляции в дистрибутиве
</EM><BR>
<EM>&gt; Fedora Core 3 устойчиво даёт Segmentation fault. При этом в Debian
</EM><BR>
<EM>&gt; testing (kernel-2.6.8, gcc-3.3.5, glibc-2.3.2) всё работает нормально!
</EM><BR>
<EM>&gt;
</EM><BR>
Аналогичная ошибка встретилась и в других контекстах (GCC, glibs).
<BR>
Как выяснилось, нужно всего-навсего убрать ключ оптимизации O2 при работе с
<BR>
GCC.
<BR>
<P>Пока не выставлена очередная версия следует сделать следующее (находимся в
<BR>
директории refal2):
<BR>
<P>1. исправить файл src/comp/comp.mak, строку с CFLAG заменить на
<BR>
CFLAGS          =       -pipe -w -DNO_DEBUG  убрав O2.
<BR>
<P>2. аналогичное исправление сделать в src/inter/inter.mak,
<BR>
CFLAGS          =       -pipe -w -DNO_DEBUG
<BR>
<P>3. Выполнить ./delbin (стереть все бинарное).
<BR>
<P>4. Выполнить make (все перекомпилируется и перестроится).
<BR>
<P>С уважением,
<BR>
--Леонид Белоус
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Previous message:</STRONG> <A HREF="0726.html">Leonid Belous: "Happy New Year!"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0702.html">A.A.Vladimirov: "Re: Рефал &amp; publicity"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0710.html">Sergei M. Abramov: "Re: Рефал &amp; publicit"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0702.html">Leonid Belous: "Re: Рефал &amp; publicit"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Jan 23 2006 - 12:51:42 MSK</EM>
</EM>
</SMALL>
</BODY>
</HTML>
