<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Mike Potanin (potanin@mccme.ru)">
<META NAME="Subject" CONTENT="Ленивость, бесконечные структура и суперкопиляция">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Ленивость, бесконечные структура и суперкопиляция</H1>
<HR>
<P>
<!-- received="Sun Aug  5 06:53:00 2001" -->
<!-- isoreceived="20010805025300" -->
<!-- sent="Thu, 2 Aug 2001 12:23:28 +0400 (MSD)" -->
<!-- isosent="20010802082328" -->
<!-- name="Mike Potanin" -->
<!-- email="potanin@mccme.ru" -->
<!-- subject="Ленивость, бесконечные структура и суперкопиляция" -->
<!-- id="Pine.LNX.4.21.0108021153370.26542-100000@mccme.ru" -->
<!-- charset="koi8-r" -->
<STRONG>Subject: </STRONG>Ленивость, бесконечные структура и суперкопиляция<BR>
<STRONG>From: </STRONG>Mike Potanin (<EM>potanin@mccme.ru</EM>)<BR>
<STRONG>Date: </STRONG>Thu Aug 02 2001 - 12:23:28 MSD
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#219">[ date ]</A>
<A HREF="index.html#219">[ thread ]</A>
<A HREF="subject.html#219">[ subject ]</A>
<A HREF="author.html#219">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0220.html">Иван Евтухович: "(no subject)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0218.html">Nikolai Kondratiev: "Virus !!!"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0221.html">korlyukov: "Re: Ленивость, бесконечные структура и супекомпиляция"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
&nbsp;Здравствуйте!
<BR>
&nbsp;Как известно ленивые вычисления позволяют работать с бесконечными
<BR>
структурами в промежуточных результатах. Хотя это и не всегда проходит.
<BR>
Так в haskell операция filter (\x -&gt; (x&lt;100)) [1..] как и следует ожидать
<BR>
сама не завершается. В refal ленивые вычисления не поддерживаются (к
<BR>
сожалению) и прохрамма
<BR>
*$ENTRY Go { = &lt;Prout &lt;Filt &lt;Inf 1&gt;&gt;&gt;; };
<BR>
Inf {
<BR>
&nbsp;e.1 s.2 = &lt;Inf e.1 s.2 &lt;+ s.2 1&gt;&gt;;
<BR>
}
<BR>
Filt {
<BR>
&nbsp;5 e.1 = 5;
<BR>
&nbsp;s.1 e.2 = s.1 &lt;Filt e.2&gt;;
<BR>
}
<BR>
естественно зависает.
<BR>
Суперкомпилятор на этой программе тоже зацикливается.
<BR>
Одноко если переписать функцию Inf с остаточной рекурсией
<BR>
Inf {
<BR>
&nbsp;e.1 s.2 = e.1 s.2 &lt;Inf &lt;+ s.2 1&gt;&gt;;
<BR>
}
<BR>
то суперкомпилятор эту программу обработает &quot;правильно&quot;, хотя сама
<BR>
программа работать естественно не начнет.
<BR>
Если бы суперкомпилятор сам перевел рекурсию на остаточную, он мог бы
<BR>
обработать и начальную программу? На сколько я понимаю рано или поздно он
<BR>
проводит преобразование в остаточную рекурсию - это естественная
<BR>
опримизация для функциональных языков. Почему бы не проводить ее сразу?
<BR>
Кстати что бы гепотетический суперкомпилятор для haskell обработал
<BR>
приведенное выше вырожение, он должен &quot;знать&quot; математику - то есть
<BR>
учитывать что x &lt; x+1. Вообще имеет ли смысл наделять суперкомпилятор
<BR>
такими знаниями (как с идеологической, так и с практической точки зрения)?
<BR>
Мне кажется что он мог бы проволить более эфективную оптимизацию, если бы
<BR>
&quot;знал&quot; алгемраические соотношения для встроеных функций, и мог бы работать
<BR>
быстрее, ели бы пользователь мог эту базу знаний расширить. 
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0220.html">Иван Евтухович: "(no subject)"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0218.html">Nikolai Kondratiev: "Virus !!!"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0221.html">korlyukov: "Re: Ленивость, бесконечные структура и супекомпиляция"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Oct 25 2004 - 21:24:59 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
