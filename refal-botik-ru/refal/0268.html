<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Andrey V Stolyarov (croco@croco.net)">
<META NAME="Subject" CONTENT="RE: Статус Рефала-">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>RE: Статус Рефала-</H1>
<HR>
<P>
<!-- received="Thu Nov 15 12:24:21 2001" -->
<!-- isoreceived="20011115092421" -->
<!-- sent="Thu, 15 Nov 2001 09:51:47 +0300 (MSK)" -->
<!-- isosent="20011115065147" -->
<!-- name="Andrey V Stolyarov" -->
<!-- email="croco@croco.net" -->
<!-- subject="RE: Статус Рефала-" -->
<!-- id="Pine.LNX.4.05.10111150919180.603-100000@home.croco.net" -->
<!-- charset="koi8-r" -->
<!-- inreplyto="F28E432C797FBD4CA0E380B026CF24F502DDAE@guiness.ixcel.ru" -->
<STRONG>Subject: </STRONG>RE: Статус Рефала-<BR>
<STRONG>From: </STRONG>Andrey V Stolyarov (<EM>croco@croco.net</EM>)<BR>
<STRONG>Date: </STRONG>Thu Nov 15 2001 - 09:51:47 MSK
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#268">[ date ]</A>
<A HREF="index.html#268">[ thread ]</A>
<A HREF="subject.html#268">[ subject ]</A>
<A HREF="author.html#268">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0269.html">Mike Potanin: "RE: Статус Рефала-"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0267.html">Alexander P. Konyshev: "RE: Статус Рефала-"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0267.html">Alexander P. Konyshev: "RE: Статус Рефала-"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0269.html">Mike Potanin: "RE: Статус Рефала-"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0267.html">Andrey V Stolyarov: "RE: Статус Рефала-"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Добрый день.
<BR>
<P>On Wed, 14 Nov 2001, Alexander P. Konyshev wrote:
<BR>
<P><EM>&gt; Добрый вечер, Андрей!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; &gt; год назад с сайта, я столкнулся с тем, что все функции вывода считают
</EM><BR>
<EM>&gt; &gt; своим долгом вставлять где можно и где нельзя переводы строки
</EM><BR>
<EM>&gt; (особенно
</EM><BR>
<EM>&gt; &gt; это классно смотрится, когда программа предназначена для генерации
</EM><BR>
<EM>&gt; кода и
</EM><BR>
<EM>&gt; &gt; система вставляет перевод строки в середине имени идентификатора).
</EM><BR>
<EM>&gt; &gt; Собственно, эту проблему я решил довольно быстро, отыскав в файле
</EM><BR>
<EM>&gt; refio.c
</EM><BR>
<EM>&gt; &gt; константу LINELEN и изменив ее значение на 30000 (можно было сделать и
</EM><BR>
<EM>&gt; &gt; побольше, но там, как я понял, есть и буфера такого размера...). Но
</EM><BR>
<EM>&gt; вот
</EM><BR>
<EM>&gt; &gt; обойтись без перекомпиляции транслятора я не смог. В том смысле, что
</EM><BR>
<EM>&gt; не
</EM><BR>
<EM>&gt; &gt; нашел функций, которые бы позволяли производить обычный raw output без
</EM><BR>
<EM>&gt; &gt; выкрутасов.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Я исправлял эту ситуацию в свое время, но похоже эта версия не вошла в
</EM><BR>
<EM>&gt; релиз, который лежит на сайте (и потом с какого Вы сайта брали).
</EM><BR>
<P>Вообще-то уже не помню. Помню, что задавал когда-то в этом списке вопрос о
<BR>
том, как в Рефале обозначать спецсимволы, после чего мне и предложили
<BR>
скачать ту версию, которая у меня сейчас. Слазив на www.refal.net, сходу я
<BR>
там не нашел никаких указаний на каноническую версию компилятора. 
<BR>
<P>Судя по news.txt, это VERSION-PZ-New 20.09.2000
<BR>
<P>А какая правильная и где ее надо брать? ;-) 
<BR>
<P><EM>&gt; С другой стороны это можно обойтись просто дописыванием функции вывода в
</EM><BR>
<EM>&gt; бибилотеку (это было бы намного проще и лучше).
</EM><BR>
<P>Насчет &quot;лучше&quot; - это безусловно, но вот на тему &quot;проще&quot; я никак не могу
<BR>
согласиться. Константу я в исходниках отыскал мгновенно, минут за пять.  
<BR>
А вот понять, как реализованы встроенные функции, я сходу не смог. Если бы
<BR>
покопался, возможно, и понял бы. Пришлось бы еще изучать устройство
<BR>
структур данных (на эту тему есть, конечно, bf.txt, но там написано NOTE:
<BR>
This description is obsolete as of 11/13/1991. The new description is
<BR>
forthcoming). В любом случае, транслятор бы пришлось пересобрать. А
<BR>
видоизмененный транслятор, к тому же с сомнительными изменениями (мои
<BR>
жалкие попытки приделать новую функцию, буде я их бы предпринял, иначе как
<BR>
сомнительными изменениями называть было бы нельзя ;-) - так вот, такой
<BR>
сомнительный результат использовать в качестве _эталона_ языка - это уже
<BR>
слишком.
<BR>
<P><EM>&gt; &gt; Вопрос у меня в связи с этим такой. Пробовал ли кто-нибудь
</EM><BR>
<EM>&gt; когда-нибудь
</EM><BR>
<EM>&gt; &gt; использовать этот транслятор в &quot;боевых условиях&quot; и поддерживается ли
</EM><BR>
<EM>&gt; он
</EM><BR>
<EM>&gt; &gt; кем-нибудь в настоящее время, или его следует забыть как страшный сон
</EM><BR>
<EM>&gt; и
</EM><BR>
<EM>&gt; &gt; пользоваться чем-нибудь более &quot;модным&quot; типа Рефала-плюс (чего лично
</EM><BR>
<EM>&gt; мне
</EM><BR>
<EM>&gt; &gt; очень бы не хотелось в силу специфики проекта).
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Я лично использовал в боевых условиях. Так же приходилось выводить в
</EM><BR>
<EM>&gt; файл сгенерированную программу на Си. Полтора года назад я был тем
</EM><BR>
<EM>&gt; человеком, кто поддерживал его (Рефал-5) и развивал.  На текущий момент
</EM><BR>
<EM>&gt; мне не известны люди, кто активно бы поддерживал его.  Я сейчас работаю
</EM><BR>
<EM>&gt; в одной комерческой организации, посему я Рефал-5 поддерживаю пасивно.
</EM><BR>
<EM>&gt; К тому же в моих планах полностью переписать весь компилятор и
</EM><BR>
<EM>&gt; runtime-часть Рефала-5 из-за давно созревших идей Андрея Немытых и моих.
</EM><BR>
<EM>&gt; Работа пока движется не очень быстро, как хотелось бы.
</EM><BR>
<P>Собственно, спасибо за ответ - это ровно то, что мне хотелось узнать. Во
<BR>
всяком случае, Рефал-5 как диалект пока еще жив. Это радует.
<BR>
<P><EM>&gt; &gt; Если транслятор уже unsupported, буду благодарен за рекомендации, что
</EM><BR>
<EM>&gt; &gt; взять вместо него.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Лично я, очень даже за.  По край ней мере мне нужен человек, с кем можно
</EM><BR>
<EM>&gt; поделится проблемами :) и идеями их решения и кому это интересно.  
</EM><BR>
<EM>&gt; Могу помочь Вам быстрее понять организацию данных и их взаимодействие.
</EM><BR>
<P>Откровенно говоря, у меня вряд ли получится поддерживать транслятор.
<BR>
Помимо собственного проекта, подчистую съедающего все свободное время, у
<BR>
меня есть еще и работа (а куда деваться в наше время...), так что в этом
<BR>
плане я вряд ли чем-то лучше. 
<BR>
<P>А в проекте, по замыслу, транслятор Рефала нужен только на этапе первичной
<BR>
раскрутки. У меня есть (еще не до конца готовый) код на Рефале,
<BR>
переводящий рефальский код в Си++ с использованием уже упоминавшейся тут
<BR>
библиотеки классов, и в дальнейшем я предполагаю использовать результат
<BR>
самоприменения этого кода совместно с компилятором Си++. Вот для
<BR>
самоприменения мне транслятор и потребовался.
<BR>
<P>Конечно, с эффективностью у меня будет полный швах (ибо в моей библиотеке
<BR>
рефал-выражения представлены односвязными списками из точечных пар, ровно
<BR>
как в Lisp'е), но больших объемов рефальского кода не предвидится, а
<BR>
процессоры нынче быстрые.
<BR>
<P><EM>&gt; &gt; Вообще, можно ли считать диалект Рефал-5 живым? Очень хочется (мне
</EM><BR>
<EM>&gt; именно
</EM><BR>
<EM>&gt; &gt; этот диалект нравится), но реальность, увы, не всегда совпадает с
</EM><BR>
<EM>&gt; &gt; желаниями.
</EM><BR>
<EM>&gt; Считайте и Вы не один.  Он живой.  Конкретно он используется в
</EM><BR>
<EM>&gt; построение серверных приложениях для Web.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; С уважением,
</EM><BR>
<EM>&gt; Алексадр Конышев.
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; P.S.: Сейчас я территориально нахожусь в Москве, если Вы тоже из Москвы,
</EM><BR>
<EM>&gt; то мы может встретится и обсудить все вопросы, связанные с Рефалом-5.
</EM><BR>
<P>О, это я с удовольствием. 
<BR>
<P><P>С уважением,
<BR>
Андрей Столяров
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0269.html">Mike Potanin: "RE: Статус Рефала-"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0267.html">Alexander P. Konyshev: "RE: Статус Рефала-"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0267.html">Alexander P. Konyshev: "RE: Статус Рефала-"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0269.html">Mike Potanin: "RE: Статус Рефала-"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0267.html">Andrey V Stolyarov: "RE: Статус Рефала-"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Oct 25 2004 - 21:24:59 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
