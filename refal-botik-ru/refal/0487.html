<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Sergei M. Abramov (abram@botik.ru)">
<META NAME="Subject" CONTENT="Re: Детерминированность РЕФА">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Детерминированность РЕФА</H1>
<HR>
<P>
<!-- received="Wed Mar 31 00:09:06 2004" -->
<!-- isoreceived="20040330200906" -->
<!-- sent="Tue, 30 Mar 2004 23:10:52 +0400" -->
<!-- isosent="20040330191052" -->
<!-- name="Sergei M. Abramov" -->
<!-- email="abram@botik.ru" -->
<!-- subject="Re: Детерминированность РЕФА" -->
<!-- id="013e01c4168a$b88a8440$07aee8c1@botik.ru" -->
<!-- charset="koi8-r" -->
<!-- inreplyto="E1B8Frb-000IBG-00.podkorytov-mail-ru@f9.mail.ru" -->
<STRONG>Subject: </STRONG>Re: Детерминированность РЕФА<BR>
<STRONG>From: </STRONG>Sergei M. Abramov (<EM>abram@botik.ru</EM>)<BR>
<STRONG>Date: </STRONG>Tue Mar 30 2004 - 23:10:52 MSD
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#487">[ date ]</A>
<A HREF="index.html#487">[ thread ]</A>
<A HREF="subject.html#487">[ subject ]</A>
<A HREF="author.html#487">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0488.html">Arkady Klimov: "Re: параллельный РЕФА"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0486.html">Arkady Klimov: "Re: Re[2]: Сравнение Рефала с другими языкам"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0482.html">Дмитрий Подкорытов: "Re: Детерминированность РЕФАЛ"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0482.html">Sergei M. Abramov: "Re: Детерминированность РЕФА"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
<EM>&gt; А если серьезно-нужна система , не критичная к порядку применения правил.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Кстати , T++ - что за зверь ?
</EM><BR>
<P>Это третий глобус ;-)
<BR>
<P>Т++ -- Т-язык в последней версии Т-системы, имеющей имячко OpenTS.
<BR>
<P><EM>&gt; Может ли он быть портирован на прозвольный кластер Unix машин
</EM><BR>
<EM>&gt; или он остро заточен под конкретное железо?
</EM><BR>
<P>Насколько я понимаю -- на любой.  По крайней мере на чем только ее за
<BR>
последний год студенты не гоняли (Оптероны, Итаниумы, Спарки, Альфы и т.п).
<BR>
Возможно есть привязка к Линуксу.  Но, думаю, преодалимая...
<BR>
<P><EM>&gt; Как реализовано там взаимодействие процессов? MPI библиотека или TCP/IP?
</EM><BR>
<P>Пока MPI, однако подходит широкий класс реализаций MPI (проверено: LAM,
<BR>
MPICH, ScaMPI и ГРИДоподобные: PACX, Globus ...)
<BR>
<P>Т-система прост:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;-- программа -- набор чистых функций (Т-функций); тело функции можно
<BR>
писать на чем угодно: на Си (Т-Си), на С++ (Т++), на Фортране (Т-Фортран),
<BR>
при написании тела Т-функции базовый язык немного расширяется (tval, send,
<BR>
tout, tcall, drop...);
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;-- у Т-функции есть аргументы и результаты (арность и коарность);
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;-- еще есть Т-значения, например TVal&lt;int&gt; -- это либо int, либо
<BR>
&quot;временно не готово&quot;;
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;-- неготовое значение -- отношение &quot;поставщик-потребитель&quot; между
<BR>
ячейкой-получателем и некоторым выходом (помните про коарность) некоторой
<BR>
вызванной Т-функции;
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;-- вызов Т-функции -- создание параллельного процесса и установка
<BR>
соответствующих отношений поставщик-потребитель к получателям; вызывающая
<BR>
функция продолжает свой счет (пока не будут найдены веские причины для
<BR>
засыпания); вызванная Т-функция -- готова стартовать (даже если ей дали в
<BR>
качестве аргументов неготовые TVal&lt;...&gt;) -- пусть стартует, там увидим,
<BR>
будут ли у нее основания для засыпания...
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;-- присваивания, копирование, передача в качестве результатов неготовых
<BR>
значений -- не есть причина для приостановки процесса (для засыпания);
<BR>
любые иные операции с неготовыми значениями -- причина для засыпания (до
<BR>
момента готовности значения);
<BR>
<P>Пример функции, которая нигде нет засыпания (псевдокод):
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;F (int n) -&gt; (y) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z = new list(10);
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (int i = 0; i&lt;10; i++) {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z[i] = G(i);
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;send y = z;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;}
<BR>
<P>==========================================
<BR>
<P>Несколько неопрятно сформатированный материал по разным Т-аспектам:
<BR>
<P><A HREF="http://tgrid.botik.ru/~phil/docs/tgridrepras.html">http://tgrid.botik.ru/~phil/docs/tgridrepras.html</A>
<BR>
<P>Еще см. <A HREF="http://skif.pereslavl.ru/skif/">http://skif.pereslavl.ru/skif/</A> меню :: Выставки :: Презентационные
<BR>
материалы -- пункты 2 и 3 что-то поясняют (правда, это по предыдущей версии,
<BR>
но все-таки).
<BR>
<P>==========================================
<BR>
<P>| Тема вызывает ностальгические воспоминания и желание поучаствовать в
<BR>
обсуждении.
<BR>
| Основным предметом оного вижу спецификацию Параллельного рефала - диалекта
<BR>
| рефала, содержащего средства параллельного программирования, включая
<BR>
недетерминизм.
<BR>
| Не обязательно это введение в язык новых элементов, возможно изменение
<BR>
семантики старых.
<BR>
| Все старые диалекты не являются кандидатами в силу строгой
<BR>
детерминированности
<BR>
| их модели вычислений. Возможности распараллеливания в рамках внутренней
<BR>
| инвариантности к порядку вычислений есть, но для практики этого маловато
<BR>
будет.
<BR>
| Какие есть идеи на это счет?
<BR>
<P>По мне, Рефал Плюс хороший кандидат.  На первый раз достаточно одной прагмы:
<BR>
<P># tfunc
<BR>
<P>Если я ставлю такое перед Рефал-функцией, то я объявляю возможность запуска
<BR>
данной функции &quot;в параллель&quot;.  Последствия недетерминизма -- на моей
<BR>
совести.  Синхронизация -- обеспечивается понятием TVal&lt;RefalCell&gt; -- см.
<BR>
выше.
<BR>
<P>Обращу внимание на три пункта:
<BR>
<P>(1) тезис Н.В.Кондратьева (думаю, этак 1987):
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;Хорошо распараллеливается то, что хорошо суперкомпилируется и
<BR>
наоборот&gt;&gt;.
<BR>
<P>(2) Рефал Плюс строился под лозунг &quot;замыкание относительно операции
<BR>
суперкомпиляции (прогонки)&quot;.
<BR>
<P>(3) Арность и коарность функций одинаково важно, для замкнутости
<BR>
относительно суперкомпиляции и для параллельного выполнения функциональных
<BR>
программ (штука, не осознаная многими на западе, и слава Богу).
<BR>
<P>(4) Рефал Плюс (если не путаю) первый рефал, в котором рефал функции имеют
<BR>
явно выраженные и явно поддержанные в реализации арность и коарность.
<BR>
<P>Формат:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;$func F   s1 (e2 (e3)) TABLE(eKeys (eVals))
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= eX TABLE(eNewKeys (eNewVals));
<BR>
<P>означает, что в каждом вызове функции F будет передано 5 (разрозненных)
<BR>
аргументов, а после завершения вычисления ф-ция возвращает три результата.
<BR>
Аргументы и результаты никак не конкатенируются.
<BR>
<P>Это хорошо (для параллельных вычислений).
<BR>
<P>С.
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0488.html">Arkady Klimov: "Re: параллельный РЕФА"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0486.html">Arkady Klimov: "Re: Re[2]: Сравнение Рефала с другими языкам"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0482.html">Дмитрий Подкорытов: "Re: Детерминированность РЕФАЛ"</A>
<!-- nextthread="start" -->
<LI><STRONG>Reply:</STRONG> <A HREF="0482.html">Sergei M. Abramov: "Re: Детерминированность РЕФА"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Oct 25 2004 - 21:25:00 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
