<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Arkady Klimov (arkady.klimov@supercompilers.com)">
<META NAME="Subject" CONTENT="Re: Refal for BESM-6">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Refal for BESM-6</H1>
<HR>
<P>
<!-- received="Tue Feb 27 18:51:52 2001" -->
<!-- isoreceived="20010227155152" -->
<!-- sent="Tue, 27 Feb 2001 14:42:56 +0300" -->
<!-- isosent="20010227114256" -->
<!-- name="Arkady Klimov" -->
<!-- email="arkady.klimov@supercompilers.com" -->
<!-- subject="Re: Refal for BESM-6" -->
<!-- id="002d01c0a0b2$7619a970$929943c2@swan" -->
<!-- charset="koi8-r" -->
<!-- inreplyto="004f01c0a09f$a039ca40$0a3aa8c0@shipil.ru" -->
<STRONG>Subject: </STRONG>Re: Refal for BESM-6<BR>
<STRONG>From: </STRONG>Arkady Klimov (<EM>arkady.klimov@supercompilers.com</EM>)<BR>
<STRONG>Date: </STRONG>Tue Feb 27 2001 - 14:42:56 MSK
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#192">[ date ]</A>
<A HREF="index.html#192">[ thread ]</A>
<A HREF="subject.html#192">[ subject ]</A>
<A HREF="author.html#192">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0193.html">Sergei M. Abramov (at home): "Re: Refal for BESM-6"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0191.html">Andrei Klimov: "Re: Рецензия на &quot;Феномен науки&quot; в &quot;Компютерре"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0193.html">Sergei M. Abramov (at home): "Re: Refal for BESM-6"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
----- Original Message -----
<BR>
From: Sergei Romanenko &lt;roman@integrum.ru&gt;
<BR>
To: &lt;leob@shell7.ba.best.com&gt;
<BR>
Cc: Andrei Klimov &lt;andrei.klimov@supercompilers.com&gt;; Arkady Klimov &lt;Arkady.Klimov@supercompilers.com&gt;
<BR>
Sent: Tuesday, February 27, 2001 12:27 PM
<BR>
Subject: Re: Refal for BESM-6
<BR>
<P><P>|
<BR>
|
<BR>
| &gt; И еще такой простой вопрос: как на Рефале-5 пишется то, что на Рефале-2
<BR>
| &gt; было
<BR>
|
<BR>
| &gt; * Отождествление справа налево, E2 не содержит пробелов
<BR>
| &gt; (R) E1 ' ' E2 = (E1) E2
<BR>
|
<BR>
| На вопросы по Рефалу-5, наверное, может ответить Аркадий Климов.
<BR>
|
<BR>
| Сергей
<BR>
|
<BR>
|
<BR>
Точнее, я заведомо могу ответить на вопрос, как это сделать в Рефале-6,
<BR>
а по рефалу-5 только предположительно.
<BR>
<P>В рефалах 6 и 5 нет отождествления справа (не то, чтобы это было принципиальное
<BR>
решение, но наверно, было отсечено как лишнее и не очень нужное).
<BR>
Но есть возможность писать доп. условия.
<BR>
Например, вы пишете сначала предикат, проверяющий наличие символа в выражении:
<BR>
OneOf {
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sA e1 sA e2 = T;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sA e1 = T;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};
<BR>
<P>Что-то в этом роде всегда присутствует в моей личной библиотечке.
<BR>
Теперь можно написать:
<BR>
........
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e1 ' ' e2, &lt;OneOf ' ' e2&gt;:F = ...
<BR>
<P>Естественно, тут не будет никакой оптимизации типа того, чтобы поиск пробела выполнялся справа, а не слева.
<BR>
<P>Написанное выше будет работать в обоих рефалах (6 и 5), только в 5 может понадобится вставить точки в переменные: e.1 s.A и т.п.
<BR>
Поскольку в Рефале 6 есть откатные функции, то там я бы сделал чуть иначе:
<BR>
<P>OneOf  sA e1 eA e2;     // Выдается неуспех, если нет повторного вхождения первого символа sA.
<BR>
......
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;e1 ' ' e2 , #&lt;OneOf ' ' e2&gt; = ... // Знак # перед образцом или перед результатным выражением означает отрицание: успех
<BR>
превращается в неуспех и наоборот.
<BR>
<P>А можно и не создавать вспомогательную функцию:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;e1 ' ' e2 , e2 : # e3 ' ' e4 =
<BR>
<P>Аркадий.
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0193.html">Sergei M. Abramov (at home): "Re: Refal for BESM-6"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0191.html">Andrei Klimov: "Re: Рецензия на &quot;Феномен науки&quot; в &quot;Компютерре"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0193.html">Sergei M. Abramov (at home): "Re: Refal for BESM-6"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Oct 25 2004 - 21:24:58 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
