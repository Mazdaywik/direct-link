<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Sergei Romanenko (roman@integrum.ru)">
<META NAME="Subject" CONTENT="Re: Сравнение по производительности Рефала с другими языками">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Сравнение по производительности Рефала с другими языками</H1>
<HR>
<P>
<!-- received="Sun Mar 28 14:56:47 2004" -->
<!-- isoreceived="20040328105647" -->
<!-- sent="Fri, 27 Feb 2004 15:28:15 +0300" -->
<!-- isosent="20040227122815" -->
<!-- name="Sergei Romanenko" -->
<!-- email="roman@integrum.ru" -->
<!-- subject="Re: Сравнение по производительности Рефала с другими языками" -->
<!-- id="001601c3fd2d$2f5dadd0$0a3aa8c0@shipil.ru" -->
<!-- charset="koi8-r" -->
<!-- inreplyto="Pine.LNX.4.58.0402271213360.18035@mccme.ru" -->
<STRONG>Subject: </STRONG>Re: Сравнение по производительности Рефала с другими языками<BR>
<STRONG>From: </STRONG>Sergei Romanenko (<EM>roman@integrum.ru</EM>)<BR>
<STRONG>Date: </STRONG>Fri Feb 27 2004 - 15:28:15 MSK
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#465">[ date ]</A>
<A HREF="index.html#465">[ thread ]</A>
<A HREF="subject.html#465">[ subject ]</A>
<A HREF="author.html#465">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0466.html">Дмитрий Подкорытов: "Сравнение Рефала с другими языками"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0464.html">Mike Potanin: "Re: Сравнение по производительности Рефалас другими языкам"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0464.html">Mike Potanin: "Re: Сравнение по производительности Рефалас другими языкам"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0463.html">Mikhail Kovtun: "Re: Сравнение по производительности Рефала с другими языками"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0464.html">Sergei Romanenko: "Re: Сравнение по производительности Рефала с другими языками"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Добрый день!
<BR>
<P>----- Original Message ----- 
<BR>
From: &quot;Mike Potanin&quot; &lt;potanin@mccme.ru&gt;
<BR>
To: &quot;Refal&quot; &lt;refal@botik.ru&gt;
<BR>
Sent: Friday, February 27, 2004 12:25 PM
<BR>
<P><EM>&gt;&gt; А ядро операционной системы - это как раз компактная штука (по
</EM><BR>
<EM>&gt;&gt; сравнению со всем остальным),
</EM><BR>
<P><EM>&gt; Монолитное ядро, каким оно является в большенстве современных
</EM><BR>
<EM>&gt; систем - сооружение очень большое.
</EM><BR>
<P>Большое. Но, не &quot;по сравнению со всем остальным&quot; (как я предусмотрительно
<BR>
уточнял).
<BR>
<P>Как-то раз мы (М.Р.Ковтун, Арк.В.Климов, я и др.) изготовили СПО
<BR>
&quot;Экономика&quot;. Это сооружение включало в себя многотерминальную операционную
<BR>
систему и набор прикладных программ. И ядро операционной системы было самой
<BR>
изящной, но далеко не самой объемной частью.
<BR>
<P><EM>&gt; но, в то же время, есть смысл сидеть и его тщательно
</EM><BR>
<EM>&gt; вылизывать. И некоторые спецы посвящают свою жизнь именно этой,
</EM><BR>
<EM>&gt; одной-единственной задаче: сидят и годами полируют одно ядро одной
</EM><BR>
<EM>&gt; системы. При таких условиях становится уже не очень важно, на чем это
</EM><BR>
<EM>&gt; ядро писать. Если ядро живет 30 лет, оно, по-определению, должно быть
</EM><BR>
<EM>&gt; написано на языке 30-летней свежести.
</EM><BR>
<P>Как я понимаю, эти пункты не вызвали никаких возражений.
<BR>
<P><EM>&gt; Более того - объектно-ориентированное. Там явно используются все
</EM><BR>
<EM>&gt; ОО-приемы, включая множественное насследование (в
</EM><BR>
<EM>&gt; частности в реализации) файловых систем в FreeBSD.
</EM><BR>
<P>Да, по сути оно объектно-ориентированное, поскольку большинство услуг,
<BR>
предоставляемых ядром, наиболее адекватно описываются в
<BR>
объектно-ориентированных понятиях. Но маразм в том, что форма предоставления
<BR>
этих услуг, как правило, не является объектной.
<BR>
<P>Например, файл, по смыслу, является объектом, но когда я &quot;открываю файл&quot;, я
<BR>
получаю от ядра не &quot;объект&quot; (в смысле языка программирования), а handle,
<BR>
какое-то непонятное целое число. А потом, конечно, в программе этот handle
<BR>
можно обернуть в какой-то объект. Но ведь это какое-то извращение:
<BR>
фактически имеем &quot;объект&quot; в ядре, потом высовываем клиенту ядра handle, а
<BR>
потом он обертывает этот handle в другой объект.
<BR>
<P>В этом смысле и Unix, и Win32 находятся на &quot;пещерном&quot; идеологическом уросне.
<BR>
<P>В BeOS, вроде бы, дело обстоит лучше, но индустриальные монстры сумели
<BR>
вовремя сговориться между собой и придушить опасное для них начинание. Ну,
<BR>
это - примерно как в американской политике: есть Республиканская и есть
<BR>
Демократическая партии. Между собой они грызутся, но если появляется третий,
<BR>
&quot;независимый&quot; кандидат в президенты, тут же сговариваются между собой, и
<BR>
начинают дружно его душить.
<BR>
<P><EM>&gt; Более того, реализация наследования в VFS менее эффективна, чем это
</EM><BR>
<EM>&gt; делает компилятор C++. Отказ от C++ был мотивирован соображениями
</EM><BR>
<EM>&gt; стиля. Хорошую программу на C++ написать в 4 раза легче, чем на plan C.
</EM><BR>
<EM>&gt; Плохую - в 32. FreeBSD Core Team испугались именно легкости, с которой
</EM><BR>
<EM>&gt; пишутся плохие программы.
</EM><BR>
<P>Да-с... Это соображение того типа, что маленьким детям можно, в качестве
<BR>
игрушек, давать деревянные палки, но не следует давать огнестрельное оружие.
<BR>
Это, конечно, разумный подход. Но из него не следует, что палка - это более
<BR>
эффективное оружие, чем пистолет. И когда дело доходит до &quot;серьезных&quot;
<BR>
разборок между &quot;серьезными&quot; дядями, огнестрельное оружие все же
<BR>
используется.
<BR>
<P>Хотя, конечно, C++ - это штука с &quot;легким спуском&quot; и без предохранителя
<BR>
(всегда может выстрелить прямо в кармане хозяина в его же ногу).
<BR>
<P><EM>&gt;&gt; Кроме того, система понятий, заложенная в Unix (или в вариацию на его
</EM><BR>
<EM>&gt;&gt; тему - Win32), не является объектной. Поэтому как бы и не возникает
</EM><BR>
<EM>&gt;&gt; потребности в языке, который бы позволял в этих понятиях работать.
</EM><BR>
<P>Здесь ключевой является оговорка &quot;как бы&quot;. Ведь если при открытии файла я
<BR>
получаю не объект, а какой-то handle, то я все равно не могу с ним работать
<BR>
как с &quot;нормальным&quot; объектом. Тогда вроде бы и объектный язык не очень
<BR>
нужен... А если язык - все же объектный, тогда требуется куча дурацких
<BR>
телодвижений по обертыванию handle-а в объекты.
<BR>
<P><EM>&gt; Сама концепция файла уже шаг в сторону ООП. Общий интерфейс
</EM><BR>
<EM>&gt; поддерживают самые разные объекты, начиная от дисковых файлов
</EM><BR>
<EM>&gt; и кончас сетевыми соединениями и терминалами.
</EM><BR>
<P>Бесспорно! Поэтому, когда прикладная программа сидит поверх изначально
<BR>
&quot;объектной&quot; платформы (вроде Java или .NET), то при обращении к платформе
<BR>
она сразу же получает &quot;объекты&quot;. Поэтому не возникает вопрос, на каком языке
<BR>
писать: C или C++ (имеется в виду С++ c Managed Extensions). Ведь если в
<BR>
ответ на обращения к платформе я получаю &quot;объект&quot;, то тогда, чтобы избежать
<BR>
(из &quot;идеологических&quot; соображений) работы с объектами в прикладной программе,
<BR>
придется делать &quot;антиобъектную&quot; обертку для платформы (чтобы обертка прятала
<BR>
объекты в себе, а наружу высовывала их handle-ы)!
<BR>
<P>Поэтому, если приложение сидит поверх &quot;необъектной&quot; платформы, уже из-за
<BR>
самого этого факта ценность &quot;объектности&quot; языка программирования
<BR>
искусственно, принудительно снижается.
<BR>
<P>Сергей
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0466.html">Дмитрий Подкорытов: "Сравнение Рефала с другими языками"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0464.html">Mike Potanin: "Re: Сравнение по производительности Рефалас другими языкам"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0464.html">Mike Potanin: "Re: Сравнение по производительности Рефалас другими языкам"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0463.html">Mikhail Kovtun: "Re: Сравнение по производительности Рефала с другими языками"</A>
<LI><STRONG>Reply:</STRONG> <A HREF="0464.html">Sergei Romanenko: "Re: Сравнение по производительности Рефала с другими языками"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Oct 25 2004 - 21:24:59 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
