<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
<TITLE>refal@botik.ru -- Discussing the Refal programming language, Re</TITLE>
<META NAME="Author" CONTENT="Mike Potanin (potanin@mccme.ru)">
<META NAME="Subject" CONTENT="Лямбда-исчисление в рефале">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Лямбда-исчисление в рефале</H1>
<HR>
<P>
<!-- received="Mon Aug 27 14:38:20 2001" -->
<!-- isoreceived="20010827103820" -->
<!-- sent="Mon, 27 Aug 2001 13:38:07 +0400 (MSD)" -->
<!-- isosent="20010827093807" -->
<!-- name="Mike Potanin" -->
<!-- email="potanin@mccme.ru" -->
<!-- subject="Лямбда-исчисление в рефале" -->
<!-- id="Pine.LNX.4.21.0108271259440.23282-100000@mccme.ru" -->
<!-- charset="koi8-r" -->
<STRONG>Subject: </STRONG>Лямбда-исчисление в рефале<BR>
<STRONG>From: </STRONG>Mike Potanin (<EM>potanin@mccme.ru</EM>)<BR>
<STRONG>Date: </STRONG>Mon Aug 27 2001 - 13:38:07 MSD
<P>
<UL>
<LI><STRONG>sorted by:</STRONG> 
<A HREF="date.html#227">[ date ]</A>
<A HREF="index.html#227">[ thread ]</A>
<A HREF="subject.html#227">[ subject ]</A>
<A HREF="author.html#227">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0228.html">Sergei M. Abramov: "Re: Лямбда-исчисление в рефале."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0226.html">Mike Potanin: "Реализация рефала на haskell - структуры днных"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0230.html">Arkady Klimov: "Re: Лямбда-исчисление в рефале"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
&nbsp;С моей точки зрения очень неестественно то что в функциональном языке
<BR>
не поддерживается лямбда-исчисление. Может это вызладет как попытка
<BR>
сделать из рефала haskell, но я решил расширить рефал в порядке
<BR>
эксперемента. В общем то добавилась всего одна существенная конструкция (и
<BR>
одна дополнительная для оптимизации) и расширилась семантика функции Mu.
<BR>
Я добавил к существующим типам (символ, целое и терм) еще один -
<BR>
замыкание (closure). Синтаксис естественный
<BR>
Adder {
<BR>
&nbsp;s1 = { s2 = &lt;Add s1 s2&gt;; };
<BR>
}
<BR>
И с замыканием можно работать функцией Mu
<BR>
&nbsp;&lt;Mu &lt;Adder 1&gt; 2&gt;
<BR>
Второе расширение не принципиально - замыкания можно использовать вместо
<BR>
имени функции
<BR>
&nbsp;&lt;{ s2 = &lt;Add 1 s2&gt;; } 2&gt;
<BR>
эквивалентно
<BR>
&nbsp;&lt;Mu { s2 = &lt;Add 1 s2&gt;; } 2&gt;
<BR>
но у меня реализованно немного эффективней (и на пол-часа раньше :-)).
<BR>
Что же это дает?
<BR>
Во первых это покрывает with-блок
<BR>
&nbsp;e1, e1 : { блок };
<BR>
полностью эквивалентно
<BR>
&nbsp;e1 = &lt;{ блок } e1&gt;
<BR>
и по моему немного естественней.
<BR>
Во вторых функции - достаточно общий объект, и через него можно
<BR>
реализовать произвольные структуры, например атрибутированный набор.
<BR>
Person {
<BR>
&nbsp;(e1) (e2) = { 'name' = e1; 'secondname' = e2; };
<BR>
}
<BR>
Работать с такими объектами по моему удобнее, чем таскать за собой сложную
<BR>
структуру. (В прочем это субъективно, возможно это привычка пришла из
<BR>
scheme и была усилена haskell, а в рефале она лишняя).
<BR>
<P>Хотя мне такое расширение нравится, все-таки возникли вопросы.
<BR>
На сколько это усложнит суперкомпиляцию (мне кажется что в языке стоит
<BR>
оставлять только те конструкции, для которых суперкомпиляция эффективна)?
<BR>
Создает ли это проблемы для введения в рефал статической типизации?
<BR>
<P>P.S. Исходный текст этой эксперементальной реализации лежит
<BR>
<A HREF="http://pm.kmost.express.ru/~pm/hrefal.tgz">http://pm.kmost.express.ru/~pm/hrefal.tgz</A>
<BR>
Слиль в них плохой (первая моя программа на haskell), но
<BR>
поэксперементировать можно. Накоплю опыта, я ее с нуля перепишу.
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0228.html">Sergei M. Abramov: "Re: Лямбда-исчисление в рефале."</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0226.html">Mike Potanin: "Реализация рефала на haskell - структуры днных"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0230.html">Arkady Klimov: "Re: Лямбда-исчисление в рефале"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.fts.frontec.se/~dast/hypermail/">hypermail 2b25</A> 
: <EM>Mon Oct 25 2004 - 21:24:59 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
