<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>refal-plus@botik.ru -- Discussing the Refal+ programming langua</TITLE>
<META NAME="Author" CONTENT="Andrey Slepuhin (pooh@msu.ru)">
<META NAME="Subject" CONTENT="Re: Case-sensitive Refal+">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Case-sensitive Refal+</H1>
<HR>
<P>
<!-- received="Thu Dec  2 02:55:23 1999 MSK" -->
<!-- sent="Thu, 02 Dec 1999 02:54:32 +0300" -->
<!-- name="Andrey Slepuhin" -->
<!-- email="pooh@msu.ru" -->
<!-- subject="Re: Case-sensitive Refal+" -->
<!-- id="3845B538.5BBCBDCD@msu.ru" -->
<!-- inreplyto="3843FA3F.F160866F@msu.ru" -->
<STRONG>Andrey Slepuhin</STRONG> (<A HREF="mailto:pooh@msu.ru?subject=Re:%20Case-sensitive%20Refal%2B"><EM>pooh@msu.ru</EM></A>)<BR>
<EM>Thu, 02 Dec 1999 02:54:32 +0300</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#76">[ date ]</A>
<A HREF="index.html#76">[ thread ]</A>
<A HREF="subject.html#76">[ subject ]</A>
<A HREF="author.html#76">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0077.html">Arkady Klimov: "Re: Case-sensitive Refal+"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0075.html">Andrey Slepuhin: "Re: Case-sensitive Refal+"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0072.html">Andrey Slepuhin: "Case-sensitive Refal+"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0077.html">Arkady Klimov: "Re: Case-sensitive Refal+"</A>
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Andrey Slepuhin wrote:
<BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Добрый день всем!
</EM><BR>
<EM>&gt; 
</EM><BR>
<EM>&gt; Я в процессе того, чтобы сделать Рефал+ полностью case-sensitive.
</EM><BR>
<P>Процесс в первом приближении закончен (т.е. все работает, но
<BR>
кому-нибудь что-нибудь может не понравиться).
<BR>
Итак, отличия case-sensitive Рефала+:
<BR>
<P>1) Все ключевые слова набираются _только_ маленькими буквами
<BR>
&nbsp;&nbsp;&nbsp;(т.е. $use, $box, но не $Use, $BOX)
<BR>
<P>2) Имена модулей _строго_ соответствуют именам .rfi-файлов,
<BR>
&nbsp;&nbsp;&nbsp;т.е. описания функций из модуля Abc лежат в файле Abc.rfi,
<BR>
&nbsp;&nbsp;&nbsp;а никак не в abc.rfi или ABC.rfi.
<BR>
<P>3) Имена стандартных модулей зафиксированы как
<BR>
&nbsp;&nbsp;&nbsp;Access Apply Arithm Bit Box Class Compare Convert
<BR>
&nbsp;&nbsp;&nbsp;Dos StdIO String Table Vector
<BR>
<P>4) Имена символов из стандартных модулей зафиксированы как
<BR>
<P>Access.rfi:
<BR>
-----------
<BR>
$func  Length  e.Exp = s.ExpLen;
<BR>
$func? Left    s.Left  s.Len e.Exp = e.SubExp;
<BR>
$func? Right   s.Right s.Len e.Exp = e.SubExp;
<BR>
$func? Middle  s.Left  s.Right e.Exp = e.SubExp;
<BR>
$func? L       s.Left  e.Exp = t.SubTerm;
<BR>
$func? R       s.Right e.Exp = t.SubTerm;
<BR>
<P>Apply.rfi:
<BR>
----------
<BR>
$func? Apply s.Name e.Exp = e.Exp;
<BR>
<P>Arithm.rfi:
<BR>
-----------
<BR>
$func &quot;+&quot;     s.Int1 s.Int2 = s.Int;
<BR>
$func &quot;-&quot;     s.Int1 s.Int2 = s.Int;
<BR>
$func &quot;*&quot;     s.Int1 s.Int2 = s.Int;
<BR>
$func Div-Rem s.Int1 s.Int2 = s.Quo s.Rem;
<BR>
$func Div     s.Int1 s.Int2 = s.Quo;
<BR>
$func Rem     s.Int1 s.Int2 = s.Rem;
<BR>
$func GCD     s.Int1 s.Int2 = s.Gcd;
<BR>
<P>Bit.rfi:
<BR>
--------
<BR>
$func Bit-Or     s.Int1 s.Int2 = s.Int;
<BR>
$func Bit-And    s.Int1 s.Int2 = s.Int;
<BR>
$func Bit-Xor    s.Int1 s.Int2 = s.Int;
<BR>
$func Bit-Not    s.Int         = s.Int;
<BR>
$func Bit-Left   s.Int s.Shift = s.Int;
<BR>
$func Bit-Right  s.Int s.Shift = s.Int;
<BR>
$func? Bit-Test s.Int s.Pos = ;
<BR>
$func Bit-Set   s.Int s.Pos = s.Int;
<BR>
$func Bit-Clear s.Int s.Pos = s.Int;
<BR>
$func Bit-Print s.Int = ;
<BR>
$func Bit-Length s.Int = s.Len;
<BR>
<P>Box.rfi:
<BR>
--------
<BR>
$func Box   e.Exp       = s.Box;
<BR>
$func ?     s.Box       = e.Exp;
<BR>
$func Store s.Box e.Exp = ;
<BR>
<P>Class.rfi:
<BR>
----------
<BR>
$func? Box?     e.Exp = ;
<BR>
$func? Channel? e.Exp = ;
<BR>
$func? Char?    e.Exp = ;
<BR>
$func? Digit?   e.Exp = ;
<BR>
$func? Func?    e.Exp = ;
<BR>
$func? Int?     e.Exp = ;
<BR>
$func? Letter?  e.Exp = ;
<BR>
$func? String?  e.Exp = ;
<BR>
$func? Table?   e.Exp = ;
<BR>
$func? Vector?  e.Exp = ;
<BR>
$func? Word?    e.Exp = ;
<BR>
<P>Compare.rfi:
<BR>
------------
<BR>
$func? &quot;&gt;=&quot; (e.Exp1)(e.Exp2) = ;
<BR>
$func? &quot;&gt;&quot;  (e.Exp1)(e.Exp2) = ;
<BR>
$func? &quot;&lt;=&quot; (e.Exp1)(e.Exp2) = ;
<BR>
$func? &quot;&lt;&quot;  (e.Exp1)(e.Exp2) = ;
<BR>
$func? &quot;/=&quot; (e.Exp1)(e.Exp2) = ;
<BR>
$func? &quot;=&quot;  (e.Exp1)(e.Exp2) = ;
<BR>
$func Compare (e.Exp1)(e.Exp2)  = s.Res;   * '&lt;', '&gt;', '='
<BR>
<P>Convert.rfi:
<BR>
------------
<BR>
$func Chars-To-Bytes e.Int  = e.Char;
<BR>
$func Bytes-To-Chars e.Char = e.Int;
<BR>
$func To-Lower       e.Char = e.Char;
<BR>
$func To-Upper       e.Char = e.Char;
<BR>
$func? To-Int    e.Exp  = s.Int;
<BR>
$func  To-Chars  e.Exp  = e.Char;
<BR>
$func  To-Word   e.Exp  = s.Word;
<BR>
<P>Dos.rfi:
<BR>
--------
<BR>
$func Arg     s.Int = e.Arg;
<BR>
$func GetEnv  e.VarName = e.Value;
<BR>
$func Time    = e.String;
<BR>
$func Exit    s.ReturnCode = ;
<BR>
$func Delay s.Interv = ;
<BR>
$func Sleep s.Interv = ;
<BR>
$func Random s.Limit = s.Rand;  /* 0 &lt;= s.Rand &lt; s.Limit */
<BR>
$func Randomize = ;
<BR>
<P>StdIO.rfi:
<BR>
----------
<BR>
$channel StdIn StdOut StdErr;
<BR>
$func  Channel        = s.Channel;
<BR>
$func? Open-File      s.Channel e.FileName s.Mode = ;
<BR>
$func  Close-Channel  s.Channel = ;
<BR>
$func Parse-File-Name e.FileName = s.DriveWord s.PathWord s.NameWord
<BR>
s.ExtWord;
<BR>
$func? Erase-File     e.FileName = ;
<BR>
$func? EOF?        s.Channel = ;
<BR>
$func? Read        = t.Term;
<BR>
$func? Read-Char   = s.Char;
<BR>
$func? Read-Line   = e.Char;
<BR>
$func  Write       e.Expr = ;
<BR>
$func  WriteLN     e.Expr = ;
<BR>
$func  Print       e.Expr = ;
<BR>
$func  PrintLN     e.Expr = ;
<BR>
$func? Read!       s.Channel = t.Term;
<BR>
$func? Read-Char!  s.Channel = s.Char;
<BR>
$func? Read-Line!  s.Channel = e.Char;
<BR>
$func  Write!      s.Channel e.Expr = ;
<BR>
$func  WriteLN!    s.Channel e.Expr = ;
<BR>
$func  Print!      s.Channel e.Expr = ;
<BR>
$func  PrintLN!    s.Channel e.Expr = ;
<BR>
<P>String.rfi:
<BR>
-----------
<BR>
$func  String         e.Source = s.String;
<BR>
$func  String-Init    s.String s.Len s.Fill = ;
<BR>
$func  String-Fill    s.String s.Fill = ;
<BR>
$func  String-Length  s.String = s.Len;
<BR>
$func  String-Ref     s.String s.Index = s.Char;
<BR>
$func  String-Set     s.String s.Index s.Char = ;
<BR>
$func  String-Replace s.String e.Source = ;
<BR>
$func  Substring      s.String s.Index s.Len = s.NewString;
<BR>
$func  Substring-Fill s.String s.Index s.Len s.Fill = ;
<BR>
<P>Table.rfi:
<BR>
----------
<BR>
$func  Table      = s.Tab;
<BR>
$func  Bind       s.Tab (e.Key) (e.Val) = ;
<BR>
$func  Unbind     s.Tab e.Key = ;
<BR>
$func  Table-Copy s.Tab = s.TabCopy ;
<BR>
$func  Replace-Table s.TargetTab s.SourceTab = ;
<BR>
$func? Lookup     s.Tab e.Key = e.Val;
<BR>
$func? In-Table?  s.Tab e.Key = ;
<BR>
$func? Domain     s.Tab = e.KeyList ;
<BR>
<P>Vector.rfi:
<BR>
-----------
<BR>
$func  Vector         e.Source = s.Vector;
<BR>
$func  Vector-To-Exp  s.Vector = e.Exp;
<BR>
$func  Vector-Init    s.Vector s.Len e.Fill = ;
<BR>
$func  Vector-Fill    s.Vector e.Fill = ;
<BR>
$func  Vector-Length  s.Vector = s.Len;
<BR>
$func  Vector-Ref     s.Vector s.Index = e.Exp;
<BR>
$func  Vector-Set     s.Vector s.Index e.Exp = ;
<BR>
$func  Vector-Replace s.Vector e.Source = ;
<BR>
$func  Subvector      s.Vector s.Index s.Len = s.NewVector;
<BR>
$func  Subvector-Fill s.Vector s.Index s.Len e.Fill = ;
<BR>
<P>5) Добавлен ключик -i у rfp и rfpc. С этим ключиком все работает
<BR>
&nbsp;&nbsp;&nbsp;как раньше, в case-insensitive режиме.
<BR>
<P>Если у кого-нибудь есть замечания/предложения/пожелания - пишите.
<BR>
Я собираюсь все выложить, как только Сергей (Битюков) исправит
<BR>
кое-какие ошибки по его части и проверит, что все работает под Win32.
<BR>
<P>Всего доброго,
<BR>
Андрей.
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0077.html">Arkady Klimov: "Re: Case-sensitive Refal+"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0075.html">Andrey Slepuhin: "Re: Case-sensitive Refal+"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0072.html">Andrey Slepuhin: "Case-sensitive Refal+"</A>
<!-- nextthread="start" -->
<LI><STRONG>Next in thread:</STRONG> <A HREF="0077.html">Arkady Klimov: "Re: Case-sensitive Refal+"</A>
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Thu Dec 02 1999 - 02:55:24 MSK</EM>
</EM>
</SMALL>
</BODY>
</HTML>
