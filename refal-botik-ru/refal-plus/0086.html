<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>refal-plus@botik.ru -- Discussing the Refal+ programming langua</TITLE>
<META NAME="Author" CONTENT="Sergei M Abramov at home (abram@botik.ru)">
<META NAME="Subject" CONTENT="Re: Case-sensitive Refal+">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Case-sensitive Refal+</H1>
<HR>
<P>
<!-- received="Fri Dec  3 20:04:58 1999 MSK" -->
<!-- sent="Fri, 3 Dec 1999 20:03:39 +0300" -->
<!-- name="Sergei M Abramov at home" -->
<!-- email="abram@botik.ru" -->
<!-- subject="Re: Case-sensitive Refal+" -->
<!-- id="001801bf3db0$59451020$32e1d0c3@abrhome.polnet.botik.ru" -->
<!-- inreplyto="Case-sensitive Refal+" -->
<STRONG>Sergei M Abramov at home</STRONG> (<A HREF="mailto:abram@botik.ru?subject=Re:%20Case-sensitive%20Refal%2B"><EM>abram@botik.ru</EM></A>)<BR>
<EM>Fri, 3 Dec 1999 20:03:39 +0300</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#86">[ date ]</A>
<A HREF="index.html#86">[ thread ]</A>
<A HREF="subject.html#86">[ subject ]</A>
<A HREF="author.html#86">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0087.html">Andrey Slepuhin: "Urgent!!! Help needed! Refal+ &amp; virtual code"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0085.html">Andrey Slepuhin: "Re: Case-sensitive Refal+"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0072.html">Andrey Slepuhin: "Case-sensitive Refal+"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
День добрый, всем!
<BR>
<P><EM>&gt;Извините за занудство (;-) и повтор, но я по-прежнему придерживаюсь мнения,
</EM><BR>
<EM>&gt;что никаких чисто рефальских библиотек (кроме уж совсем &quot;ядреных&quot;, имеющих
</EM><BR>
<EM>&gt;дело с понятиями самого Рефала, вроде арифметики)
</EM><BR>
<P>(Я всегда был) Абсолютно согласен с идеей:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;(1) рефальская библиотека должна содержать только рефальские примитивы,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;(2) плюс интерфейс со всем нерефальским миром.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;(3) При этом (и я с А(К) согласен!) прикладные библиотеки (файлы,
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;каталоги, окна, менюшки, мышки, курсоры, хренюшки и т.п.)...
<BR>
<EM>&gt;... разрабатывать не следует,
</EM><BR>
<EM>&gt;а нужно (просто-таки необходимо, чтобы Рефал не умер, а пошел в жизнь)
</EM><BR>
<EM>&gt;пристыковать его в существующим распространенным библиотекам:
</EM><BR>
&nbsp;&nbsp;&nbsp;&nbsp;[...опущено много правильного, с которым я согласен...]
<BR>
<EM>&gt;Что нужно продумать -- это общий механизм вызова таких библиотек из Рефала.
</EM><BR>
&nbsp;&nbsp;&nbsp;&nbsp;[...опущено много правильного, с которым я согласен...]
<BR>
<EM>&gt;Я убежден, что если это не будет сделано, то даже великий факт наличия
</EM><BR>
<EM>&gt;суперкомпилятора для Рефала его не спасет. Мы сами вбиваем гвоздь...
</EM><BR>
<P><P>Я почти со всем согласен, кроме разве что...в данной короткой записке я вот про
<BR>
что: Андрей (К) это явно не утверждал, но мне показалось (возможно я ошибаюсь),
<BR>
что &quot;промелькнула&quot; мысль:
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;(1) -- это мало (в смысле объема поддержки, числа функций, объема
<BR>
программирования и т.п.)--ну там арифметика всякая...и тому подобное...
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2) -- это не много и это жизненнонеобходимо (см. выше);
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(3) -- а это мы вообще получим задарма (имея 2).
<BR>
<EM>    &gt;&gt;
</EM><BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;(* Забегая вперед: в данной записке я говорю: не верно, что (1) --&quot;это
<BR>
мало&quot;.  Часть (1) сегодня в рефале+ это 3/4 (75%) объема всей библиотеки! И
<BR>
только 1/4 обеспечивается тем, что в светлом будущем покроет (2)+(3).
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Вот почему МОЖНО ГОВОРИТЬ о СИЛЬНОЙ (не слабой) привязанности библиотеки
<BR>
к run-time support системе
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;*)
<BR>
<P>Мне было интересно посмотреть, а сколько на САМОМ ДЕЛЕ, НА ПРАКТИКЕ этих самых
<BR>
чисто-рефальских функций?  Кроме того, мне было интересно сделать ревизию
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;(* сделать ревизию == подвергнуть сомнению, опираясь в том числе и на идею
<BR>
Андрея о разбиении 1+2+3, с которой я в целом согласен *)
<BR>
<P>Рефал+ библиотеки.
<BR>
<P>Короткие результаты
<BR>
<P>&nbsp;&nbsp;&nbsp;&nbsp;(* замечу, что в группах &quot;+&quot;, &quot;-&quot; и &quot;?&quot; 102 рефал-функции, поэтому я не стал
<BR>
вычислять удельный--в процентах,--вес групп *)
<BR>
<P>все сегодняшние функции Рефал+ библиотеки разбиты на 4 группы (разбиение не
<BR>
объективно---отражает мнение Абрамова):
<BR>
<P>&quot;+&quot; -74- это часть (1) в классификации Андрея
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Работа с рефал-&quot;объектами&quot;, звеньями, рюкзаками и
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;их тэгами...
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Это придется переписывать при смене run-time support системы.
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Вам кажется много?
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Попробуйте от чего-нибудь отказаться -- список ниже ;-)
<BR>
<P>&quot;-&quot; -16- это должно покрыться частью (2+3)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Связь с ОС.  Сегодня это: время, аргументы командной строки, переменные
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;окружение, работа с файлами.  Видимо должно покрыть идеей Андрея:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(2)+(3) -- включая всякие ОЛЕ и КОРБЫ.
<BR>
<P>&quot;?&quot; -12- среднее между (1) и (2) -- во как интересно! Я не могу определиться...
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. Не рефальские преобразования (в том числе зависимые
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;от regional setings) Пример:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func  TO-UPPER   e.Char = e.Char;
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. Ввод/вывод РЕФАЛЬСКИХ констант.
<BR>
?????      Куда их отнести?
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Пример:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$func? READ       = t.Term;
<BR>
<P>&quot;.&quot; -61- явные рудименты -- просто должны отмереть:
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. 20 штук -- Ввод/вывод CONIO (кто-нибудь помнит, что такое
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;KEY-PRESSED? и GET-SCR-CHAR-ATTR ?)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. 23 штуки RF5LIB (отмирает, если мы говорим об __общей__ библиотеке)
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;. 18 штук WINDOW (кто-нибудь помнит, что такое окна в текстовом режиме
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;монитора?)
<BR>
<P>Вот такая статистика...
<BR>
А подробная табличка ниже
<BR>
<P>Удачи
<BR>
<P>Сергей
<BR>
/////////////////////////////////////////////////////////////////
<BR>
&quot;-&quot; 16 штук;
<BR>
Связь с ОС (время, аргументы, окружение, файлы)
<BR>
<P>- $func  ARG        s.Int = e.Arg;                        DOS
<BR>
- $func  CHANNEL    = s.Channel;                          STDIO
<BR>
- $func  CLOSE-CHANNEL  s.Channel = ;                     STDIO
<BR>
- $func  GETENV     e.VarName = e.Value;                  DOS
<BR>
- $func  PRINT      e.Expr = ;                            STDIO
<BR>
- $func  PRINT!     s.Channel e.Expr = ;                  STDIO
<BR>
- $func  PRINTLN    e.Expr = ;                            STDIO
<BR>
- $func  PRINTLN!   s.Channel e.Expr = ;                  STDIO
<BR>
- $func  TIME       = e.String;                           DOS
<BR>
- $func? CHANNEL?   e.Exp = ;                             CLASS
<BR>
- $func? EOF?       s.Channel = ;                         STDIO
<BR>
- $func? OPEN-FILE  s.Channel e.FileName s.Mode = ;       STDIO
<BR>
- $func? READ-CHAR  = s.Char;                             STDIO
<BR>
- $func? READ-CHAR! s.Channel = s.Char;                   STDIO
<BR>
- $func? READ-LINE  = e.Char;                             STDIO
<BR>
- $func? READ-LINE! s.Channel = e.Char;                   STDIO
<BR>
<P>&quot;?&quot; 12 штук;
<BR>
<P>(6) Не рефальские преобразования (в том числе зависимые от regional
<BR>
setings)
<BR>
<P>? $func  BYTES-TO-CHARS e.Char = e.Int;                   CONVERT
<BR>
? $func  CHARS-TO-BYTES e.Int  = e.Char;                  CONVERT
<BR>
? $func  TO-LOWER   e.Char = e.Char;                      CONVERT
<BR>
? $func  TO-UPPER   e.Char = e.Char;                      CONVERT
<BR>
? $func? DIGIT?     e.Exp = ;                             CLASS
<BR>
? $func? LETTER?    e.Exp = ;                             CLASS
<BR>
<P>(6) Ввод/вывод РЕФАЛЬСКИХ констант
<BR>
<P>? $func? READ       = t.Term;                             STDIO
<BR>
? $func? READ!      s.Channel = t.Term;                   STDIO
<BR>
? $func  WRITE      e.Expr = ;                            STDIO
<BR>
? $func  WRITE!     s.Channel e.Expr = ;                  STDIO
<BR>
? $func  WRITELN    e.Expr = ;                            STDIO
<BR>
? $func  WRITELN!   s.Channel e.Expr = ;                  STDIO
<BR>
<P>&quot;+&quot; -- 74 штуки
<BR>
Работа с рефал-&quot;объектами&quot;, звеньями, рюкзаками и их тэгами...
<BR>
<P>+ $func  ?          s.Box       = e.Exp;                  BOX
<BR>
+ $func  &quot;-&quot;        s.Int1 s.Int2 = s.Int;                ARITHM
<BR>
+ $func  &quot;*&quot;        s.Int1 s.Int2 = s.Int;                ARITHM
<BR>
+ $func  &quot;+&quot;        s.Int1 s.Int2 = s.Int;                ARITHM
<BR>
+ $func  BIND       s.Tab (e.Key) (e.Val) = ;             TABLE
<BR>
+ $func  BOX        e.Exp       = s.Box;                  BOX
<BR>
+ $func  COMPARE    (e.Exp1)(e.Exp2)  = s.Res;            COMPARE
<BR>
+ $func  DIV        s.Int1 s.Int2 = s.Quo;                ARITHM
<BR>
+ $func  DIV-REM    s.Int1 s.Int2 = s.Quo s.Rem;          ARITHM
<BR>
+ $func  EXIT       s.ReturnCode = ;                      DOS
<BR>
+ $func  GCD        s.Int1 s.Int2 = s.Gcd;                ARITHM
<BR>
+ $func  LENGTH     e.Exp = s.ExpLen;                     ACCESS
<BR>
+ $func  REM        s.Int1 s.Int2 = s.Rem;                ARITHM
<BR>
+ $func  REPLACE-TABLE  s.TargetTab s.SourceTab = ;       TABLE
<BR>
+ $func  STORE      s.Box e.Exp = ;                       BOX
<BR>
+ $func  STRING         e.Source = s.String;              STRING
<BR>
+ $func  STRING-FILL    s.String s.Fill = ;               STRING
<BR>
+ $func  STRING-INIT    s.String s.Len s.Fill = ;         STRING
<BR>
+ $func  STRING-LENGTH  s.String = s.Len;                 STRING
<BR>
+ $func  STRING-REF     s.String s.Index = s.Char;        STRING
<BR>
+ $func  STRING-REPLACE s.String e.Source = ;             STRING
<BR>
+ $func  STRING-SET     s.String s.Index s.Char = ;       STRING
<BR>
+ $func  SUBSTRING  s.String s.Index s.Len = s.NewString; STRING
<BR>
+ $func  SUBSTRING-FILL s.String s.Index s.Len s.Fill =;  STRING
<BR>
+ $func  SUBVECTOR      s.Vector s.Ind s.Len = s.Vector;  VECTOR
<BR>
+ $func  SUBVECTOR-FILL s.Vector s.Index s.Len e.Fill =;  VECTOR
<BR>
+ $func  TABLE      = s.Tab;                              TABLE
<BR>
+ $func  TABLE-COPY s.Tab = s.TabCopy ;                   TABLE
<BR>
+ $func  TO-CHARS   e.Exp  = e.Char;                      CONVERT
<BR>
+ $func  TO-WORD    e.Char = s.Word;                      CONVERT
<BR>
+ $func  UNBIND     s.Tab e.Key = ;                       TABLE
<BR>
+ $func  VECTOR         e.Source = s.Vector;              VECTOR
<BR>
+ $func  VECTOR-FILL    s.Vector e.Fill = ;               VECTOR
<BR>
+ $func  VECTOR-INIT    s.Vector s.Len e.Fill = ;         VECTOR
<BR>
+ $func  VECTOR-LENGTH  s.Vector = s.Len;                 VECTOR
<BR>
+ $func  VECTOR-REF     s.Vector s.Index = e.Exp;         VECTOR
<BR>
+ $func  VECTOR-REPLACE s.Vector e.Source = ;             VECTOR
<BR>
+ $func  VECTOR-SET     s.Vector s.Index e.Exp = ;        VECTOR
<BR>
+ $func  VECTOR-TO-EXP  s.Vector = e.Exp;                 VECTOR
<BR>
+ $func? &quot;/=&quot;       (e.Exp1)(e.Exp2) = ;                  COMPARE
<BR>
+ $func? &quot;&lt;&quot;        (e.Exp1)(e.Exp2) = ;                  COMPARE
<BR>
+ $func? &quot;&lt;=&quot;       (e.Exp1)(e.Exp2) = ;                  COMPARE
<BR>
+ $func? &quot;=&quot;        (e.Exp1)(e.Exp2) = ;                  COMPARE
<BR>
+ $func? &quot;&gt;&quot;        (e.Exp1)(e.Exp2) = ;                  COMPARE
<BR>
+ $func? &quot;&gt;=&quot;       (e.Exp1)(e.Exp2) = ;                  COMPARE
<BR>
+ $func? APPLY      s.Name e.Exp = e.Exp;                 APPLY
<BR>
+ $func? BOX?       e.Exp = ;                             CLASS
<BR>
+ $func? CHAR?      e.Exp = ;                             CLASS
<BR>
+ $func? DOMAIN     s.Tab = e.KeyList ;                   TABLE
<BR>
+ $func? FUNC?      e.Exp = ;                             CLASS
<BR>
+ $func? IN-TABLE?  s.Tab e.Key = ;                       TABLE
<BR>
+ $func? INT?       e.Exp = ;                             CLASS
<BR>
+ $func? L          s.Left  e.Exp = t.SubTerm;            ACCESS
<BR>
+ $func? LEFT       s.Left  s.Len e.Exp = e.SubExp;       ACCESS
<BR>
+ $func? LOOKUP     s.Tab e.Key = e.Val;                  TABLE
<BR>
+ $func? MIDDLE     s.Left  s.Right e.Exp = e.SubExp;     ACCESS
<BR>
+ $func? R          s.Right e.Exp = t.SubTerm;            ACCESS
<BR>
+ $func? RIGHT      s.Right s.Len e.Exp = e.SubExp;       ACCESS
<BR>
+ $func? STRING?    e.Exp = ;                             CLASS
<BR>
+ $func? TABLE?     e.Exp = ;                             CLASS
<BR>
+ $func? TO-INT     e.Char = s.Int;                       CONVERT
<BR>
+ $func? VECTOR?    e.Exp = ;                             CLASS
<BR>
+ $func? WORD?      e.Exp = ;                             CLASS
<BR>
+ $func BIT-OR     s.Int1 s.Int2 = s.Int;                 BIT
<BR>
+ $func BIT-AND    s.Int1 s.Int2 = s.Int;                 BIT
<BR>
+ $func BIT-XOR    s.Int1 s.Int2 = s.Int;                 BIT
<BR>
+ $func BIT-NOT    s.Int         = s.Int;                 BIT
<BR>
+ $func BIT-LEFT   s.Int s.Shift = s.Int;                 BIT
<BR>
+ $func BIT-RIGHT  s.Int s.Shift = s.Int;                 BIT
<BR>
+ $func? BIT-TEST s.Int s.Pos = ;                         BIT
<BR>
+ $func BIT-SET   s.Int s.Pos = s.Int;                    BIT
<BR>
+ $func BIT-CLEAR s.Int s.Pos = s.Int;                    BIT
<BR>
+ $func BIT-PRINT s.Int = ;                               BIT
<BR>
+ $func BIT-LENGTH s.Int = s.Len;                         BIT
<BR>
<P>20 штук -- Ввод/вывод CONIO
<BR>
. $func? KEY-PRESSED? = ;                                 CONIO
<BR>
. $func READ-KEY = s.Char;                                CONIO
<BR>
. $func GET-SCR-CHAR-ATTR  s.Row s.Col = s.Ch s.Attr;     CONIO
<BR>
. $func PUT-SCR-CHAR  s.Row s.Col s.Ch = ;                CONIO
<BR>
. $func PUT-SCR-ATTR  s.Row s.Col s.Attr = ;              CONIO
<BR>
. $func GET-FIELD-STR  s.Row s.Col s.Length = s.Chars;    CONIO
<BR>
. $func PUT-FIELD-STR  s.Row s.Col s.Length s.Chars = ;   CONIO
<BR>
. $func PUT-FIELD-ATTR  s.Row s.Col s.Length s.Attr = ;   CONIO
<BR>
. $func GET-CURSOR  = s.Row s.Col;                        CONIO
<BR>
. $func SET-CURSOR  s.Row s.Col = ;                       CONIO
<BR>
. $func GET-CURSOR-FORM  = s.StartLine s.EndLine;         CONIO
<BR>
. $func SET-CURSOR-FORM  s.StartLine s.EndLine = ;        CONIO
<BR>
. $func GET-ATTRIBUTE  = s.Attr;                          CONIO
<BR>
. $func SET-ATTRIBUTE  s.Attr = ;                         CONIO
<BR>
. $func GET-TEXT-MODE  = s.Rows s.Cols;                   CONIO
<BR>
. $func CLEAR-SCREEN  = ;                                 CONIO
<BR>
. $func  CWRITE       e.Expr = ;                          CONIO
<BR>
. $func  CWRITELN     e.Expr = ;                          CONIO
<BR>
. $func  CPRINT       e.Expr = ;                          CONIO
<BR>
. $func  CPRINTLN     e.Expr = ;                          CONIO
<BR>
<P>23 штуки RF5LIB
<BR>
. $func &quot;rf5CARD&quot;    e.Prompt = e.Line;                   RF5LIB
<BR>
. $func &quot;rf5CLOSE&quot;   s.Fnum = ;                           RF5LIB
<BR>
. $func &quot;rf5GET&quot;     s.Fnum = e.Line;                     RF5LIB
<BR>
. $func &quot;rf5OPEN&quot;    s.Mode s.Fnum e.Fname = ;            RF5LIB
<BR>
. $func &quot;rf5PRINT&quot;   e.Line = e.Line;                     RF5LIB
<BR>
. $func &quot;rf5PUT&quot;     s.Fnum e.Line = e.Line;              RF5LIB
<BR>
. $func &quot;rf5PUTOUT&quot;  s.Fnum e.Line = ;                    RF5LIB
<BR>
. $func &quot;rf5ADD&quot;    (s)s = s;                             RF5LIB
<BR>
. $func &quot;rf5DIV&quot;    (s)s = s;                             RF5LIB
<BR>
. $func &quot;rf5DIVMOD&quot; (s)s = (s.Quot)s.Rem ;                RF5LIB
<BR>
. $func &quot;rf5MOD&quot;    (s)s = s;                             RF5LIB
<BR>
. $func &quot;rf5MUL&quot;    (s)s = s;                             RF5LIB
<BR>
. $func &quot;rf5SUB&quot;    (s)s = s;                             RF5LIB
<BR>
. $func &quot;rf5BR&quot; e =;                                      RF5LIB
<BR>
. $func &quot;rf5CP&quot; e.Key = e.Val;                            RF5LIB
<BR>
. $func &quot;rf5DG&quot; e.Key = e.Val;                            RF5LIB
<BR>
. $func &quot;rf5DGALL&quot; = e.Stack;                             RF5LIB
<BR>
. $func &quot;rf5RP&quot; e =;                                      RF5LIB
<BR>
. $func &quot;rf5FIRST&quot; s.N e.Exp = (e.Prefix) e.Postfix;      RF5LIB
<BR>
. $func &quot;rf5LAST&quot;  s.N e.Exp = (e.Prefix) e.Postfix;      RF5LIB
<BR>
. $func &quot;rf5LENW&quot;  e.Exp = s.Len e.Exp;                   RF5LIB
<BR>
. $func &quot;rf5TYPE&quot;  e.Exp = s.Type e.Exp;                  RF5LIB
<BR>
. $func &quot;rf5NUMB&quot;  e = s;                                 RF5LIB
<BR>
<P>18 штук WINDOW
<BR>
. $const NO-FRAME = -1;                                   WINDOW
<BR>
. $func MAKE-WINDOW                                       WINDOW
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.WindowNo s.WindowAtt s.FrameAtt s.FrameStr
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.Row s.Col s.Height s.Width = ;
<BR>
. $func MAKE-WINDOW!                                      WINDOW
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.WindowNo s.WindowAtt s.FrameAtt s.FrameStr
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.Row s.Col s.Height s.Width
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.ClearWindow s.FrameStrPos s.FrameTypeStr = ;
<BR>
. $func CURRENT-WINDOW-NO  = s.WindowNo;                  WINDOW
<BR>
. $func CURRENT-WINDOW =                                  WINDOW
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.WindowNo s.WindowAtt s.FrameAtt s.FrameStr
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.Row s.Col s.Height s.Width;
<BR>
. $func CURRENT-WINDOW! =                                 WINDOW
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.WindowNo s.WindowAtt s.FrameAtt s.FrameStr
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.Row s.Col s.Height s.Width
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.ClearWindow s.FrameStrPos s.BorderChars ;
<BR>
. $func? EXIST-WINDOW?  s.WindowNo = ;                    WINDOW
<BR>
. $func SHIFT-WINDOW  s.WindowNo = ;                      WINDOW
<BR>
. $func REMOVE-WINDOW  = ;                                WINDOW
<BR>
. $func REMOVE-WINDOW!  s.WindowNo s.Refresh = ;          WINDOW
<BR>
. $func RESIZE-WINDOW!  s.Row s.Col s.Height s.Width = ;  WINDOW
<BR>
. $func SET-WINDOW-ATTR  s.Attr = ;                       WINDOW
<BR>
. $func SET-FRAME-ATTR  s.Attr = ;                        WINDOW
<BR>
. $func SET-WINDOW-FRAME  s.FrameAtt s.FrameStr           WINDOW
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.FrameStrPos
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s.BorderChars = ;
<BR>
. $func SCROLL s.NoOfRows  s.NoOfCols = ;                 WINDOW
<BR>
. $func GET-WINDOW-STR  = s.ScreenString;                 WINDOW
<BR>
. $func PUT-WINDOW-STR  s.ScreenString = ;                WINDOW
<BR>
. $func WINDOW-FILL s.Ch = ;                              WINDOW
<BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0087.html">Andrey Slepuhin: "Urgent!!! Help needed! Refal+ &amp; virtual code"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0085.html">Andrey Slepuhin: "Re: Case-sensitive Refal+"</A>
<LI><STRONG>In reply to:</STRONG> <A HREF="0072.html">Andrey Slepuhin: "Case-sensitive Refal+"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Fri Dec 03 1999 - 20:04:59 MSK</EM>
</EM>
</SMALL>
</BODY>
</HTML>
