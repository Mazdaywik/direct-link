<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>refal-plus@botik.ru -- Discussing the Refal+ programming langua</TITLE>
<META NAME="Author" CONTENT="Arkady Klimov (klimovark@mail.ru)">
<META NAME="Subject" CONTENT="Re: Во сколько раз Рефал+/32 быстрее Реала+/16 (на задаче select )">
</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<H1 ALIGN=CENTER>Re: Во сколько раз Рефал+/32 быстрее Реала+/16 (на задаче select )</H1>
<HR>
<P>
<!-- received="Wed Oct 27 12:04:38 1999 MSD" -->
<!-- sent="Wed, 27 Oct 1999 12:03:53 +0400" -->
<!-- name="Arkady Klimov" -->
<!-- email="klimovark@mail.ru" -->
<!-- subject="Re: Во сколько раз Рефал+/32 быстрее Реала+/16 (на задаче select )" -->
<!-- id="008801bf2051$d1a9a8e0$97925bc3@bagirra.rinet.ru" -->
<!-- inreplyto="003601bf1fbe$8c539b40$07aee8c1@rcms.botik.ru" -->
<STRONG>Arkady Klimov</STRONG> (<A HREF="mailto:klimovark@mail.ru?subject=Re:%20Во%20сколько%20раз%20Рефал%2B/32%20быстрее%20Реала%2B/16%20(на%20задаче%20select%20)"><EM>klimovark@mail.ru</EM></A>)<BR>
<EM>Wed, 27 Oct 1999 12:03:53 +0400</EM>
<P>
<UL>
<LI><STRONG>Messages sorted by:</STRONG> 
<A HREF="date.html#68">[ date ]</A>
<A HREF="index.html#68">[ thread ]</A>
<A HREF="subject.html#68">[ subject ]</A>
<A HREF="author.html#68">[ author ]</A>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0069.html">Sergei M. Abramov: "Fwd:  postdoc position available in Prof. Futamura's project"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0067.html">Sergei M. Abramov: "Re: Во сколько раз Рефал+/32 быстрее Реала+/16 (на задаче select )"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<HR>
<!-- body="start" -->
<P>
Привет, Сергей и все.
<BR>
<P>Да, у меня тоже был подобный обыт. Когда я перетранслировал Рефал-6
<BR>
под Windows (на MS Visual Studio) он стал работать примерно ВТРОЕ
<BR>
быстрее, чем тот же рефал, собранный ранее для DOS/16 (Турбо Сями),
<BR>
исполняемый теперь под Widows на этой же машине. Наверно, это тот же
<BR>
самый рост.
<BR>
<P>Что ж, наверно теперь получен ответ на недоумения от того, что Рефал
<BR>
Плюс летом в Переславле показал скорость сравнимую с Рефалами 5/6
<BR>
(ожидалось-то, что он будет раз в 5 быстрее).
<BR>
<P>Аркадий.
<BR>
<P>----- Original Message -----
<BR>
From: Sergei M. Abramov &lt;<A HREF="mailto:abram@botik.ru?subject=Re:%20Во%20сколько%20раз%20Рефал%2B/32%20быстрее%20Реала%2B/16%20(на%20задаче%20select%20)">abram@botik.ru</A>&gt;
<BR>
To: Refal Plus mailing list &lt;<A HREF="mailto:refal-plus@botik.ru?subject=Re:%20Во%20сколько%20раз%20Рефал%2B/32%20быстрее%20Реала%2B/16%20(на%20задаче%20select%20)">refal-plus@botik.ru</A>&gt;
<BR>
Sent: Tuesday, October 26, 1999 6:29 PM
<BR>
Subject: Во сколько раз Рефал+/32 быстрее Рефала+/16 (на задаче
<BR>
select )?
<BR>
<P><P><EM>&gt; День добрый, всем!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Во сколько раз Рефал+/32 быстрее Рефала+/16 (на задаче select) ? --
</EM><BR>
Ответ
<BR>
<EM>&gt; ниже.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; ==========Предыстория=============
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Летом (во время семинара) я написал 4 рефал-плюс-программы решения
</EM><BR>
задачи от
<BR>
<EM>&gt; Арк.Климова: select, select1, select2, select3 -- каждая
</EM><BR>
последущая -- все
<BR>
<EM>&gt; плюсовее и плюсовее (первая--по сути Рефал-пять-ная).
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Почти все эти программы выполнялись на машине Андрея Немытых
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;     о    select (модифицированный) -- на рефале-5;
</EM><BR>
<EM>&gt;     о    select, select1, select2 -- на рефале+/16
</EM><BR>
<EM>&gt;          бит (а другого не было тогда под рукой ;-)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Время счета Р+-ных версий (&quot;&quot;, &quot;1&quot;, &quot;2&quot;) падало, и приближалось к
</EM><BR>
<EM>&gt; Рефал-5-ому времени, все еще уступая  Рефалу-5.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; select3 гонялся только на моей машине, и я предсказывал (сравнивая
</EM><BR>
времена
<BR>
<EM>&gt; на одной моей машине версий &quot;2&quot; и &quot;3&quot;), что при прогоне на машине
</EM><BR>
Андрея
<BR>
<EM>&gt; Немытых select3 обгонит select/Рефал-5.  Но чуть-чуть. (Такой замер
</EM><BR>
не был
<BR>
<EM>&gt; сделан--руки не дошли...)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Короче, для меня тогда было ясно, что select3/Р+/16 бит сравним с
</EM><BR>
<EM>&gt; select/Рефал-5 -- чуть-чуть лучше или чуть-чуть хуже...  чуть-чуть
</EM><BR>
не
<BR>
<EM>&gt; считается!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; ==========Конец предыстории========
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; И вот недавно, мне хватило смелости (и сноровки) поставить и своить
</EM><BR>
<EM>&gt; Рефал+/32бит под Виндовс 95...
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; /* ОБМЕН ОПЫТОМ:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; У меня было много психологического ступора перед установкой
</EM><BR>
Рефал+/32.  Но
<BR>
<EM>&gt; когда решился, особой сноровки при установке Рефал+/32бит под Вин'95
</EM><BR>
просто
<BR>
<EM>&gt; не потребовалось:
</EM><BR>
<EM>&gt;     -- Дважды нажал кнопку ОК (один раз для Цигвина, один раз для
</EM><BR>
<EM>&gt; Рефала-Плюс);
</EM><BR>
<EM>&gt;     -- Ни разу не правил AUTOEXEC.BAT, CONFIG.SYS -- см. дальше ;-)
</EM><BR>
<EM>&gt;     -- Вставил в конце C:\REFAL-PLUS\REFINIT.BAT одну строчку:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;    NC.EXE
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;     -- На Десктоп вытащил Shortcut C:\REFAL-PLUS\REFINIT.BAT и как
</EM><BR>
<EM>&gt; результат, получил Shortcut на Нортон Коммандер, в котором Рефал+
</EM><BR>
<EM>&gt; 32-битовый!
</EM><BR>
<EM>&gt;     -- Когда насладился этим всласть, не удержался, сделал
</EM><BR>
примитивную
<BR>
<EM>&gt; иконку (прилагаю) для этого &quot;Нортон Коммандера, в котором Рефал+
</EM><BR>
<EM>&gt; 32-битовый&quot;.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Ранее у меня был (и остался) Shortcut на Нортон Коммандер, в котором
</EM><BR>
Рефал+
<BR>
<EM>&gt; был (и остался) 16 битовый.  Теперь, открыв два окна -- два этих
</EM><BR>
&quot;разных&quot;
<BR>
<EM>&gt; Нортонов-коммандеров,-- я собираю рефал программы то так, то этак
</EM><BR>
;-)
<BR>
<EM>&gt;
</EM><BR>
<EM>&gt; */
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; При использовании, неожидано для себа, я заметил, что
</EM><BR>
Рефал+/32бит/Вин
<BR>
<EM>&gt; оказался БЫСТРЕЕ Рефал+/16бит/ДОС!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; /*    Если никого это не удивляет, то меня удивило.  Я точно помню
</EM><BR>
(был
<BR>
<EM>&gt; трезвым!), что первые версии Рефал+/32бит/ДОС ПМ были МЕДЛЕННЕЕ чем
</EM><BR>
<EM>&gt; Рефал+/16бит/ДОС. */
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; А на сколько Рефал+/32бит/Вин оказался БЫСТРЕЕ Рефал+/16бит/Дос?
</EM><BR>
Интересно
<BR>
<EM>&gt; ведь, правда?
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Я достал свои программки select, select1, select2, select3 и прогнал
</EM><BR>
их под
<BR>
<EM>&gt; Рефалом+/16ДОС и Рефалом+/32Вин на одной и той же своей машине
</EM><BR>
(P-II-266,
<BR>
<EM>&gt; RAM 128MB).  Результат--неожиданный:
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;                 На задаче select
</EM><BR>
<EM>&gt;       Рефал+/32 Вин быстрее Рефала+/16 ДОС
</EM><BR>
<EM>&gt;                не &quot;на чуть-чуть&quot;,
</EM><BR>
<EM>&gt;              а примерно в ТРИ РАЗА!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Я не могу себе объяснить, почему это так, но это так.
</EM><BR>
Подробности--ниже в
<BR>
<EM>&gt; таблицах.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Спасибо ребятам (А.Слепухин, С.Битюков) за Рефал+/32 Вин!
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Удачи,
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Сергей
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Астрономическое время выполнения Рефал+ ных программ select,
</EM><BR>
select1,
<BR>
<EM>&gt; select2, select3.
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; ---------------------------------------------------
</EM><BR>
<EM>&gt; Аргумент      select select1 select2 select3
</EM><BR>
<EM>&gt; ---------------------------------------------------
</EM><BR>
<EM>&gt; 1234567890      3.63    3.19    3.02    2.47  R+/16
</EM><BR>
<EM>&gt;                 1.76    1.09    1.05    0.82  R+/32
</EM><BR>
<EM>&gt; 1234567890     19.22   16.98   16.42   12.91  R+/16
</EM><BR>
<EM>&gt;                 7.03    5.77    5.55    4.45  R+/32
</EM><BR>
<EM>&gt; 1234567890ab  107.65   95.85   92.61   71.13  R+/16
</EM><BR>
<EM>&gt;                38.94   32.25   31.58   24.61  R+/32
</EM><BR>
<EM>&gt; 1234567890abc 631.15  564.63  547.17  411.11  R+/16
</EM><BR>
<EM>&gt;               228.00  190.92  182.57  143.85  R+/32
</EM><BR>
<EM>&gt; ---------------------------------------------------
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Во сколько раз Рефал+/32 быстрее Рефала+/16 на задаче select? Вот,
</EM><BR>
смотрите:
<BR>
<EM>&gt; ---------------------------------------------
</EM><BR>
<EM>&gt; Аргумент      select select1 select2 select3
</EM><BR>
<EM>&gt; ---------------------------------------------
</EM><BR>
<EM>&gt; 1234567890       2.1     2.9     2.9     3.0
</EM><BR>
<EM>&gt; 1234567890       2.7     2.9     3.0     2.9
</EM><BR>
<EM>&gt; 1234567890ab     2.8     3.0     2.9     2.9
</EM><BR>
<EM>&gt; 1234567890abc    2.8     3.0     3.0     2.9
</EM><BR>
<EM>&gt; ---------------------------------------------
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; Свертки:
</EM><BR>
<EM>&gt;  min (по всей таблице)      -- 2.1
</EM><BR>
<EM>&gt;  average  (по всей таблице) -- 2.8
</EM><BR>
<EM>&gt;  average' (по всей таблице) -- 2.9
</EM><BR>
<EM>&gt;  max                        -- 3.0
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt; /*  average'(по всей таблице) =
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;        (время-всего-пакета-тестов-Р+16бит)
</EM><BR>
<EM>&gt;     =  -----------------------------------
</EM><BR>
<EM>&gt;        (время-всего-пакета-тестов-Р+32бит)
</EM><BR>
<EM>&gt;
</EM><BR>
<EM>&gt;        сумма-всех-16-времен(по всей таблице)
</EM><BR>
<EM>&gt;     =  -------------------------------------
</EM><BR>
<EM>&gt;        сумма-всех-32-времен(по всей таблице)
</EM><BR>
<EM>&gt; */
</EM><BR>
<EM>&gt;
</EM><BR>
<P><!-- body="end" -->
<HR>
<P>
<UL>
<!-- next="start" -->
<LI><STRONG>Next message:</STRONG> <A HREF="0069.html">Sergei M. Abramov: "Fwd:  postdoc position available in Prof. Futamura's project"</A>
<LI><STRONG>Previous message:</STRONG> <A HREF="0067.html">Sergei M. Abramov: "Re: Во сколько раз Рефал+/32 быстрее Реала+/16 (на задаче select )"</A>
<!-- nextthread="start" -->
<!-- reply="end" -->
</UL>
<!-- trailer="footer" -->
<HR>
<P>
<SMALL>
<EM>
This archive was generated by <A HREF="http://www.landfield.com/hypermail/">hypermail 2.0b3</A> 
on <EM>Wed Oct 27 1999 - 12:04:40 MSD</EM>
</EM>
</SMALL>
</BODY>
</HTML>
